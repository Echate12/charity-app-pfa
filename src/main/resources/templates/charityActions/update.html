<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="fragments/header :: commonHead('Edit Charity Action')"></head>
<body class="bg-light">
<nav class="navbar navbar-light bg-white shadow-sm mb-4">
  <div class="container">
    <a class="navbar-brand" th:href="@{/}">CharityApp</a>
    <ul class="navbar-nav ms-auto d-flex flex-row">
      <li class="nav-item me-3">
        <a class="nav-link" th:text="${#authentication.name}">User</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" th:href="@{/logout}">Logout</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container py-4">
  <h2>Edit Charity Action</h2>
  <form th:action="@{|/actions/edit/${action.id}|}" th:object="${action}" method="post">
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input th:field="*{title}" class="form-control" required/>
    </div>
    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea th:field="*{description}" class="form-control" rows="3"></textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Category</label>
      <select th:field="*{category}" class="form-select" required>
        <option th:each="cat : ${T(com.charity.charityapp.enums.ActionCategory).values()}"
                th:value="${cat}" th:text="${cat}"
                th:selected="${cat} == ${action.category}">FOOD</option>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Organization</label>
      <select th:field="*{organizationId}" class="form-select" required>
        <option th:each="org : ${organizations}"
                th:value="${org.id}"
                th:text="${org.name}"
                th:selected="${org.id} == ${action.organizationId}">Org Name</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Update</button>
  </form>
</div>

<div th:replace="fragments/footer :: commonFooter"></div>
</body>
</html>
